import React from 'react';
import { useHistory } from "react-router-dom";
import {useAuth} from "../../context/auth";
import './Header.css'


function Header(props) {

	let history = useHistory();
	const {setAuthTokens} = useAuth();
	const email = JSON.parse(localStorage.getItem('tokens'))['user_email'];

	const goBack = () => {
		history.goBack();
	}

	const logOut = () => {
        setAuthTokens();
	}
	
	return (
		<>
			<div className='header'>
				<div className="left">
					{props.page === 'dashboard' &&
					<div></div>
					}
					{props.page === 'editor' &&
					<svg className="back-btn" onClick={goBack} width="35" height="29" viewBox="0 0 35 29" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M15.5323 28.4782C14.964 28.7141 14.3386 28.7759 13.7352 28.6558C13.1318 28.5356 12.5776 28.239 12.1426 27.8033L0.911301 16.5552C0.62239 16.266 0.393208 15.9226 0.236844 15.5446C0.0804806 15.1667 -7.26093e-07 14.7616 -7.26093e-07 14.3525C-7.26093e-07 13.9433 0.0804806 13.5382 0.236844 13.1603C0.393208 12.7823 0.62239 12.4389 0.911301 12.1497L12.1426 0.91158C12.5776 0.476172 13.1317 0.179718 13.7349 0.0596998C14.3382 -0.0603185 14.9634 0.00148844 15.5315 0.237306C16.0997 0.473124 16.5853 0.872363 16.9269 1.38454C17.2685 1.89673 17.4508 2.49885 17.4508 3.11479V7.41719C32.9963 7.56233 35 17.3482 35 25.8819C35.0009 26.6525 34.7165 27.396 34.2018 27.9688C33.6872 28.5416 32.9788 28.903 32.2136 28.9831C31.4484 29.0632 30.6806 28.8564 30.0588 28.4027C29.437 27.9489 29.0052 27.2804 28.8468 26.5263C28.5763 25.9203 26.2476 21.3964 17.4508 21.2781V25.6016C17.4507 26.2173 17.2684 26.8192 16.927 27.3312C16.5855 27.8432 16.1002 28.2423 15.5323 28.4782V28.4782ZM31.8901 25.8819C31.8901 16.1706 28.8773 10.5308 17.0975 10.5308C17.0664 10.5308 17.0275 10.5208 16.9927 10.5208C16.0868 10.5208 15.7898 10.4317 15.3059 10.4317C14.9827 10.4366 14.6604 10.4664 14.3418 10.5208V3.11479L3.11059 14.3529L14.3409 25.6016V18.1956C14.7127 18.1538 15.0864 18.1309 15.4605 18.1271C15.8604 18.1271 16.1798 18.1607 16.9924 18.1607H17.0975C29.1205 18.1607 31.8901 25.3503 31.8901 25.8819Z" fill="#343A40"/>
					</svg>
					}
				</div>
				<div className="right">
					{props.page === 'dashboard' &&
					<div className="avatar">
						<span>{email}</span>
						<svg width="40" height="40" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M43 22C43 33.598 33.598 43 22 43C10.402 43 1 33.598 1 22C1 10.402 10.402 1 22 1C33.598 1 43 10.402 43 22Z" fill="white" stroke="#343A40" strokeWidth="2"/>
							<path d="M13 31C13 27.625 17.5 27.625 19.75 25.375C20.875 24.25 17.5 24.25 17.5 18.625C17.5 14.8754 18.9996 13 22 13C25.0004 13 26.5 14.8754 26.5 18.625C26.5 24.25 23.125 24.25 24.25 25.375C26.5 27.625 31 27.625 31 31" stroke="#343A40" strokeWidth="2" strokeLinecap="square"/>
						</svg>
						<svg onClick={logOut} width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M7 19H3C2.46957 19 1.96086 18.7893 1.58579 18.4142C1.21071 18.0391 1 17.5304 1 17V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H7" stroke="#343A40" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
							<path d="M14 15L19 10L14 5" stroke="#343A40" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
							<path d="M19 10H7" stroke="#343A40" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
						</svg>
					</div>
					}
					{props.page === 'editor' &&
					<svg width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M29.6 23.25C29.4003 23.7024 29.3408 24.2043 29.429 24.6909C29.5172 25.1775 29.7492 25.6265 30.095 25.98L30.185 26.07C30.4639 26.3486 30.6852 26.6795 30.8362 27.0437C30.9872 27.4079 31.0649 27.7983 31.0649 28.1925C31.0649 28.5867 30.9872 28.9771 30.8362 29.3413C30.6852 29.7055 30.4639 30.0364 30.185 30.315C29.9064 30.5939 29.5755 30.8152 29.2113 30.9662C28.8471 31.1172 28.4567 31.1949 28.0625 31.1949C27.6683 31.1949 27.2779 31.1172 26.9137 30.9662C26.5495 30.8152 26.2186 30.5939 25.94 30.315L25.85 30.225C25.4965 29.8792 25.0475 29.6472 24.5609 29.559C24.0743 29.4708 23.5724 29.5303 23.12 29.73C22.6763 29.9201 22.298 30.2359 22.0315 30.6383C21.7649 31.0407 21.6219 31.5123 21.62 31.995V32.25C21.62 33.0456 21.3039 33.8087 20.7413 34.3713C20.1787 34.9339 19.4156 35.25 18.62 35.25C17.8244 35.25 17.0613 34.9339 16.4987 34.3713C15.9361 33.8087 15.62 33.0456 15.62 32.25V32.115C15.6084 31.6185 15.4477 31.137 15.1588 30.7331C14.8699 30.3291 14.4661 30.0214 14 29.85C13.5476 29.6503 13.0457 29.5908 12.5591 29.679C12.0725 29.7672 11.6235 29.9992 11.27 30.345L11.18 30.435C10.9014 30.7139 10.5705 30.9352 10.2063 31.0862C9.84213 31.2372 9.45175 31.3149 9.0575 31.3149C8.66325 31.3149 8.27287 31.2372 7.90868 31.0862C7.54449 30.9352 7.21362 30.7139 6.935 30.435C6.65607 30.1564 6.43479 29.8255 6.28382 29.4613C6.13285 29.0971 6.05514 28.7067 6.05514 28.3125C6.05514 27.9183 6.13285 27.5279 6.28382 27.1637C6.43479 26.7995 6.65607 26.4686 6.935 26.19L7.025 26.1C7.37081 25.7465 7.60278 25.2975 7.69101 24.8109C7.77923 24.3243 7.71967 23.8224 7.52 23.37C7.32986 22.9263 7.01413 22.548 6.6117 22.2815C6.20926 22.0149 5.73768 21.8719 5.255 21.87H5C4.20435 21.87 3.44129 21.5539 2.87868 20.9913C2.31607 20.4287 2 19.6656 2 18.87C2 18.0744 2.31607 17.3113 2.87868 16.7487C3.44129 16.1861 4.20435 15.87 5 15.87H5.135C5.63149 15.8584 6.11301 15.6977 6.51695 15.4088C6.92089 15.1199 7.22857 14.7161 7.4 14.25C7.59967 13.7976 7.65924 13.2957 7.57101 12.8091C7.48278 12.3225 7.25081 11.8735 6.905 11.52L6.815 11.43C6.53607 11.1514 6.31479 10.8205 6.16382 10.4563C6.01285 10.0921 5.93514 9.70175 5.93514 9.3075C5.93514 8.91325 6.01285 8.52287 6.16382 8.15868C6.31479 7.79449 6.53607 7.46362 6.815 7.185C7.09362 6.90607 7.42448 6.68479 7.78868 6.53382C8.15287 6.38285 8.54325 6.30514 8.9375 6.30514C9.33175 6.30514 9.72213 6.38285 10.0863 6.53382C10.4505 6.68479 10.7814 6.90607 11.06 7.185L11.15 7.275C11.5035 7.62081 11.9525 7.85278 12.4391 7.94101C12.9257 8.02923 13.4276 7.96967 13.88 7.77H14C14.4437 7.57986 14.822 7.26413 15.0885 6.8617C15.3551 6.45926 15.4981 5.98768 15.5 5.505V5.25C15.5 4.45435 15.8161 3.69129 16.3787 3.12868C16.9413 2.56607 17.7044 2.25 18.5 2.25C19.2956 2.25 20.0587 2.56607 20.6213 3.12868C21.1839 3.69129 21.5 4.45435 21.5 5.25V5.385C21.5019 5.86768 21.6449 6.33926 21.9115 6.7417C22.178 7.14413 22.5563 7.45986 23 7.65C23.4524 7.84967 23.9543 7.90924 24.4409 7.82101C24.9275 7.73278 25.3765 7.50081 25.73 7.155L25.82 7.065C26.0986 6.78607 26.4295 6.56479 26.7937 6.41382C27.1579 6.26285 27.5483 6.18514 27.9425 6.18514C28.3367 6.18514 28.7271 6.26285 29.0913 6.41382C29.4555 6.56479 29.7864 6.78607 30.065 7.065C30.3439 7.34362 30.5652 7.67448 30.7162 8.03868C30.8672 8.40287 30.9449 8.79325 30.9449 9.1875C30.9449 9.58175 30.8672 9.97213 30.7162 10.3363C30.5652 10.7005 30.3439 11.0314 30.065 11.31L29.975 11.4C29.6292 11.7535 29.3972 12.2025 29.309 12.6891C29.2208 13.1757 29.2803 13.6776 29.48 14.13V14.25C29.6701 14.6937 29.9859 15.072 30.3883 15.3385C30.7907 15.6051 31.2623 15.7481 31.745 15.75H32C32.7956 15.75 33.5587 16.0661 34.1213 16.6287C34.6839 17.1913 35 17.9544 35 18.75C35 19.5456 34.6839 20.3087 34.1213 20.8713C33.5587 21.4339 32.7956 21.75 32 21.75H31.865C31.3823 21.7519 30.9107 21.8949 30.5083 22.1615C30.1059 22.428 29.7901 22.8063 29.6 23.25Z" stroke="#343A40" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"/>
						<circle cx="18.8" cy="19.05" r="3.3" stroke="#343A40" strokeWidth="3"/>
					</svg>
					}
				</div>
			</div>
			<div className='subheader'>
				<h1>{props.title}</h1>
			</div>
		</>
	)
}

export default Header
